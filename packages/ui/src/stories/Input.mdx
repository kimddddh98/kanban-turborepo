import { Meta, Canvas, Controls, Source } from '@storybook/addon-docs/blocks'
import * as Stories from './Input.stories'

<Meta of={Stories} />

# Input

## 목적

Input은 제품 전반에서 **일관된 입력 UX(크기/패딩/포커스/disabled/에러 표현)** 를 제공하기 위한 기본 컴포넌트입니다.  
Tailwind 토큰(`bg-background`, `text-foreground`, `border-border` 등)을 사용하여 **라이트/다크 테마**에서 동일한 의미로 동작합니다.

---

## 사용 가이드

### Do

- 폼 필드에서 기본 입력이 필요할 때 `Input`을 사용합니다.
- 에러는 `error` prop으로 표현합니다(테두리/포커스 링 + 메시지).
- 크기는 `inputSize`로 결정합니다(`sm/md/lg`).

### Don’t

- `className`으로 `h-*`, `px-*`를 직접 덮어써서 크기 규칙을 깨지 않아요.
- helper text/validation logic를 Input 내부에 넣지 말고, 상위 FormField 레이어에서 관리하는 것을 권장합니다.

---

## Playground

아래 캔버스에서 오른쪽 Controls로 props를 바꿔보며 동작을 확인할 수 있어요.

<Canvas of={Stories.Playground} />
<Controls />

---

## 상태(States)

### Error

에러 상태는 입력 자체의 강조(테두리/포커스 링) + 메시지 노출로 구성됩니다.

<Canvas of={Stories.ErrorState} />

### Disabled

Disabled는 입력 불가 + 시각적 약화(투명도/커서)로 표현됩니다.

<Canvas of={Stories.Disabled} />

---

## 크기(Sizes)

팀 디자인 시스템 기준으로 아래 3단계를 제공합니다.

- `sm`: 리스트/좁은 폼
- `md`: 기본
- `lg`: 강조되는 입력(검색, 주요 CTA 근처)

<Canvas of={Stories.Sizes} />

---

## 접근성(Accessibility)

### Label 연결

- label은 시각적으로 제공되지만, **접근성까지 완성하려면 `id`를 지정하고 label의 `htmlFor`로 연결**하는 패턴이 더 좋습니다.
- 현재 Input은 `label` prop만 제공하므로, 필요하면 다음 중 하나를 팀 규칙으로 정하세요:
  1. `Input`에서 `id`를 받아서 `label htmlFor={id}`로 연결하도록 개선
  2. 상위 `FormField` 컴포넌트에서 `Label + Input`을 묶어 접근성을 보장

> (권장) 팀이 FormField를 운영한다면 2)로 일관성 있게 가는 경우가 많아요.

---

## 토큰/테마(Design Tokens)

Input은 아래 토큰(클래스)을 사용합니다:

- 배경: `bg-background`
- 텍스트: `text-foreground`
- placeholder: `text-muted-foreground`
- border: `border-border`
- focus ring: `focus:ring-primary`

따라서 테마 변경은 보통 “클래스 변경”이 아니라 **CSS 변수 값 변경**으로 처리됩니다.

---

## 코드 예시

### 기본 사용

<Source code={`<Input label="Email" placeholder="you@example.com" />`} />

### 에러 표시

<Source code={`<Input label="Email" error="올바른 이메일을 입력해주세요" />`} />

### 크기

<Source
  code={`<Input label="Search" inputSize="lg" placeholder="Search..." />`}
/>

---

## 팀 운영 규칙(옵션)

- **Owner:** Design System Team
- **Review:** UI 변경 시 DS 리뷰 필수
- **Changelog:** major/minor 변경 시 PR에 스크린샷 + Storybook 링크 첨부
